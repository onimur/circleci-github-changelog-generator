description: >
  Generate Changelog with custom parameters and store the file on folder ./artifacts with persist_to_workspace (CIRCLECI)
usage:
  version: 2.1

  orbs:
    github-changelog-generator: onimur/github-changelog-generator@x.y.z

  orb_tagged_filters: &orb_tagged_filters
    branches:
      ignore: /.*/
    tags:
      only: /^\d+\.\d+\.\d+$/ #for tag 1.2.3

  workflows:
    tagged-publish: # run job for all tags
      jobs:
        - github-changelog-generator/changelog-custom:
            steps:
              - checkout
            context: your-context           # Case contain your Github Token
            token: GITHUB_TOKEN             # Token as env_var
            push-git: false                 # The changelog will be save on store artifacts (Circle CI)
            header-label: "# My Changelog"
            date-format: "%d-%m-%Y"
            output: CUSTOM-CHANGELOG.md
            breaking-label: "**Breaking**"
            bugs-label: "**Bugs**"
            filters: *orb_tagged_filters    # Trigger to only tag
